{% extends "dashboard/index.html" %} {% block content %} {% load static %}
<h1>Camaras</h1>

<div class="row">
	<div class="col-2">
		<button
			type="button"
			class="btn btn-primary"
			data-coreui-toggle="modal"
			data-coreui-target="#exampleModal"
		>
			Agregar cámara
		</button>
	</div>
	<div class="col-2">
		<form action="{% url 'send_message' %}" method="post">
			{% csrf_token %}
			<input
				type="submit"
				class="btn btn-primary"
				value="Enviar mensaje"
			/>
		</form>
	</div>
	<div class="col-8">Resultado: {{ result }}</div>
</div>

{% if result and result != 'No response from server.' %}
<!-- HTML elements to render if result is true -->
<div class="row">
	<div id="videoContainer" style="padding: 0">
		<img
			id="videoFromCV"
			src="{% url 'video_feed' %}?result={{ result }}"
		/>
	</div>
</div>
{% endif %}

<!-- Modal -->
<div
	class="modal fade modal-lg"
	id="exampleModal"
	tabindex="-1"
	aria-labelledby="exampleModalLabel"
	aria-hidden="true"
>
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">
					Agregar cámara
				</h5>
				<button
					type="button"
					class="btn-close"
					data-coreui-dismiss="modal"
					aria-label="Close"
				></button>
			</div>
			<div class="modal-body">
				<form method="post">
					{% csrf_token %}
					<div>{{ form.name.label_tag }} {{ form.name }}</div>
					<div>{{ form.email.label_tag }} {{ form.email }}</div>
					<button type="submit">Submit</button>
				</form>

				<div class="mb-3">
					<label for="exampleFormControlInput1" class="form-label">
						Nombre de camara
					</label>
					<input
						type="name"
						class="form-control"
						id="exampleFormControlInput1"
						placeholder="name@example.com"
					/>
				</div>
				<div class="mb-3">
					<label for="exampleFormControlTextarea1" class="form-label">
						Example textarea
					</label>
					<textarea
						class="form-control"
						id="exampleFormControlTextarea1"
						rows="3"
					></textarea>
				</div>
			</div>
			<div class="modal-footer">
				<button
					type="button"
					class="btn btn-secondary"
					data-coreui-dismiss="modal"
				>
					Cancelar
				</button>
				<button type="button" class="btn btn-primary">Guardar</button>
			</div>
		</div>
	</div>
</div>

{% endblock %}
